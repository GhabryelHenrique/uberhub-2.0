<div class="perfil-container">
  <!-- Header com Avatar -->
  <div class="perfil-header">
    <div class="avatar-section">
      <div class="avatar-circle">
        <span>{{ user ? getInitials(user.nome) : 'U' }}</span>
      </div>
      <div class="header-info">
        <h1>{{ user?.nome || 'Usuário' }}</h1>
        <p class="user-role">{{ user?.cargo || 'Membro' }} {{ user?.empresa ? '@ ' + user.empresa : '' }}</p>
        <p class="user-location" *ngIf="user?.cidade">
          <i class="fas fa-map-marker-alt"></i>
          {{ user.cidade }}, {{ user.estado }}
        </p>
      </div>
    </div>
  </div>

  <!-- Navegação de Abas -->
  <div class="tabs">
    <button
      class="tab"
      [class.active]="abaAtiva === 'perfil'"
      (click)="selecionarAba('perfil')">
      <i class="fas fa-user"></i>
      Meu Perfil
    </button>
    <button
      class="tab"
      [class.active]="abaAtiva === 'contato'"
      (click)="selecionarAba('contato')">
      <i class="fas fa-envelope"></i>
      Contato & Suporte
    </button>
  </div>

  <!-- Conteúdo das Abas -->
  <div class="tab-content">
    <!-- ABA PERFIL -->
    <div *ngIf="abaAtiva === 'perfil'" class="content-section">
      <!-- Alerta de sucesso -->
      <div class="alert alert-success" *ngIf="perfilAtualizado">
        <i class="fas fa-check-circle"></i>
        Perfil atualizado com sucesso!
      </div>

      <div class="form-card">
        <h2>
          <i class="fas fa-edit"></i>
          Editar Perfil
        </h2>
        <p class="form-subtitle">Mantenha seus dados atualizados para uma melhor experiência</p>

        <form [formGroup]="perfilForm" (ngSubmit)="salvarPerfil()">
          <!-- Informações Básicas -->
          <div class="form-section">
            <h3 class="section-title">Informações Básicas</h3>

            <div class="form-row">
              <div class="form-group flex-2">
                <label>Nome Completo *</label>
                <input type="text" formControlName="nome" placeholder="Seu nome completo" />
                <span class="error" *ngIf="perfilForm.get('nome')?.invalid && perfilForm.get('nome')?.touched">
                  Campo obrigatório
                </span>
              </div>
              <div class="form-group">
                <label>Email *</label>
                <input type="email" formControlName="email" placeholder="seu@email.com" />
                <span class="error" *ngIf="perfilForm.get('email')?.invalid && perfilForm.get('email')?.touched">
                  Email válido obrigatório
                </span>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Telefone</label>
                <input type="tel" formControlName="telefone" placeholder="(34) 99999-9999" />
              </div>
              <div class="form-group">
                <label>Empresa</label>
                <input type="text" formControlName="empresa" placeholder="Nome da empresa" />
              </div>
              <div class="form-group">
                <label>Cargo</label>
                <input type="text" formControlName="cargo" placeholder="Seu cargo" />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Cidade</label>
                <input type="text" formControlName="cidade" placeholder="Uberlândia" />
              </div>
              <div class="form-group">
                <label>Estado</label>
                <input type="text" formControlName="estado" placeholder="MG" maxlength="2" />
              </div>
            </div>

            <div class="form-group">
              <label>Biografia</label>
              <textarea formControlName="bio" rows="4" placeholder="Conte um pouco sobre você..."></textarea>
            </div>
          </div>

          <!-- Redes Sociais -->
          <div class="form-section">
            <h3 class="section-title">Redes Sociais & Links</h3>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fab fa-linkedin"></i>
                  LinkedIn
                </label>
                <input type="url" formControlName="linkedin" placeholder="https://linkedin.com/in/..." />
              </div>
              <div class="form-group">
                <label>
                  <i class="fab fa-github"></i>
                  GitHub
                </label>
                <input type="url" formControlName="github" placeholder="https://github.com/..." />
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-globe"></i>
                  Website
                </label>
                <input type="url" formControlName="website" placeholder="https://seusite.com" />
              </div>
            </div>
          </div>

          <!-- Interesses -->
          <div class="form-section">
            <h3 class="section-title">Áreas de Interesse</h3>
            <p class="section-description">Selecione suas áreas de interesse para receber conteúdo personalizado</p>

            <div class="chips-container">
              <button
                type="button"
                *ngFor="let interesse of interessesDisponiveis"
                class="chip"
                [class.active]="isInteresseSelecionado(interesse)"
                (click)="toggleInteresse(interesse)">
                {{ interesse }}
              </button>
            </div>
          </div>

          <!-- Ações -->
          <div class="form-actions">
            <button type="submit" class="btn btn-primary" [disabled]="perfilForm.invalid">
              <i class="fas fa-save"></i>
              Salvar Alterações
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- ABA CONTATO -->
    <div *ngIf="abaAtiva === 'contato'" class="content-section">
      <!-- Alerta de sucesso -->
      <div class="alert alert-success" *ngIf="mensagemEnviada">
        <i class="fas fa-check-circle"></i>
        Mensagem enviada com sucesso! Entraremos em contato em breve.
      </div>

      <div class="contato-wrapper">
        <!-- Formulário de Contato -->
        <div class="form-card">
          <h2>
            <i class="fas fa-paper-plane"></i>
            Entre em Contato
          </h2>
          <p class="form-subtitle">Tem alguma dúvida ou sugestão? Envie uma mensagem para nossa equipe!</p>

          <form [formGroup]="contatoForm" (ngSubmit)="enviarMensagem()">
            <div class="form-row">
              <div class="form-group">
                <label>Nome *</label>
                <input type="text" formControlName="nome" placeholder="Seu nome" />
                <span class="error" *ngIf="contatoForm.get('nome')?.invalid && contatoForm.get('nome')?.touched">
                  Campo obrigatório
                </span>
              </div>
              <div class="form-group">
                <label>Email *</label>
                <input type="email" formControlName="email" placeholder="seu@email.com" />
                <span class="error" *ngIf="contatoForm.get('email')?.invalid && contatoForm.get('email')?.touched">
                  Email válido obrigatório
                </span>
              </div>
            </div>

            <div class="form-group">
              <label>Assunto *</label>
              <input type="text" formControlName="assunto" placeholder="Assunto da mensagem" />
              <span class="error" *ngIf="contatoForm.get('assunto')?.invalid && contatoForm.get('assunto')?.touched">
                Campo obrigatório
              </span>
            </div>

            <div class="form-group">
              <label>Mensagem *</label>
              <textarea formControlName="mensagem" rows="6" placeholder="Escreva sua mensagem aqui..."></textarea>
              <span class="error" *ngIf="contatoForm.get('mensagem')?.invalid && contatoForm.get('mensagem')?.touched">
                Mensagem deve ter pelo menos 10 caracteres
              </span>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary" [disabled]="contatoForm.invalid">
                <i class="fas fa-paper-plane"></i>
                Enviar Mensagem
              </button>
            </div>
          </form>
        </div>

        <!-- Informações de Contato -->
        <div class="info-card">
          <h3>
            <i class="fas fa-info-circle"></i>
            Outras Formas de Contato
          </h3>

          <div class="contact-info">
            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <div class="contact-text">
                <h4>Email</h4>
                <p>contatouberhub.com</p>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-phone"></i>
              </div>
              <div class="contact-text">
                <h4>Telefone</h4>
                <p>(34) 3333-4444</p>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="contact-text">
                <h4>Endereço</h4>
                <p>Uberlândia - MG, Brasil</p>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="contact-text">
                <h4>Horário de Atendimento</h4>
                <p>Seg - Sex: 9h às 18h</p>
              </div>
            </div>
          </div>

          <div class="social-links">
            <h4>Siga-nos</h4>
            <div class="social-buttons">
              <button class="social-btn linkedin">
                <i class="fab fa-linkedin"></i>
              </button>
              <button class="social-btn instagram">
                <i class="fab fa-instagram"></i>
              </button>
              <button class="social-btn twitter">
                <i class="fab fa-twitter"></i>
              </button>
              <button class="social-btn facebook">
                <i class="fab fa-facebook"></i>
              </button>
            </div>
          </div>

          <div class="faq-link">
            <i class="fas fa-question-circle"></i>
            <div>
              <h4>Perguntas Frequentes</h4>
              <p>Visite nossa <a href="#" class="link">Central de Ajuda</a></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
